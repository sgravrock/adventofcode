import XCTest

class day4_1_tests: XCTestCase {
	func test_hash() {
		XCTAssertEqual("000001dbbfa3a5c83a2d506429c7b00e",
		               toHexString(bytes: makeHash(key: "abcdef", n: 609043)))
	}
	
	func test_isValid() {
		let maxValid: [UInt8] = [0x0, 0x0, 0x0f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]
		let minInvalid: [UInt8] = [0x0, 0x0, 0x10, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]
		let otherDigit: [UInt8] = [0x0, 0x01, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0]
		XCTAssertTrue(isValid(hash: maxValid))
		XCTAssertFalse(isValid(hash: minInvalid))
		XCTAssertFalse(isValid(hash: otherDigit))
	}
	
	func test_mine() {
		XCTAssertEqual(609043, mine(key: "abcdef"))
	}
}
